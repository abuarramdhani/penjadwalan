/*!
 * MaskAsNumber Jquery Plugin v1.5.0
 * https://github.com/andrehtissot/jquery-mask-as-number
 *
 * Requires jQuery Library
 * https://jquery.com/
 *
 * Copyright AndrÃ© Augusto Tissot
 * Released under the MIT license
 *
 * Date: 2017-03-10
 */
"use strict";!function(e){var t="maskAsNumber",a=function(e,t){if(e.indexOf(".")!==-1&&t.indexOf(".")!==-1){var a=e.length-e.indexOf(".")-1,n=t.length-t.indexOf(".")-1;if(a>n)for(var r=a-n;r>0;r--)t+="0";else if(n>a)for(var r=n-a;r>0;r--)e+="0"}else if(e.indexOf(".")!==-1){var a=e.length-e.indexOf(".")-1;t+=".";for(var r=a;r>0;r--)t+="0"}else if(t.indexOf(".")!==-1){var n=t.length-t.indexOf(".")-1;e+=".";for(var r=n;r>0;r--)e+="0"}if("-"===e[0]&&"-"===t[0]){if(e.length>t.length)return 1;if(t.length>e.length)return-1;if(e>t)return 1;if(t>e)return-1}else{if("-"===e[0])return 1;if("-"===t[0])return-1;if(e.length>t.length)return-1;if(t.length>e.length)return 1;if(e>t)return-1;if(t>e)return 1}return 0},n=function(e,t,n,r,i){var l=e.replace(i?/[^\d\.\-]/g:/[^\d\-]/g,"");if(""!==l){var m=l.indexOf(".");m!==-1&&(l=l.replace(/\./g,""),l=l.substr(0,m)+"."+l.substr(m)),l.indexOf("-")!==-1&&(l=l.replace(/\-/g,""),l="-"+l),l=l.replace(/^-?0+/,""),i?0===l.indexOf(".")?l="0"+l.substr(0,i+1):l.indexOf(".")!==-1&&(l=l.substr(0,l.indexOf(".")+i+1)):""===l&&(l="0")}return t&&1===a(l,t)?l=t:n&&a(l,n)===-1&&(l=n),r&&l.length>r&&(l=l.substr(0,r)),l!==e&&l},r=function(e){if("number"===e[0].type){var t=e.clone()[0];return t.type="text",""+t.value.trim()}return e.val().trim()},i=function(e){return""+(e[0].value||e[0].defaultValue).trim()},l=function(e,a){var n=r(e);n.length>a&&e.val(n.substr(0,a)),"text"===e[0].type&&e.attr("maxlength",a),e.data(t).maxlength=a};e.fn.maskAsNumber=function(a){var a=a||{};return this.each(function(r,l){var m={},f=e(l),d=i(f);if(m.maxlength=a.maxlength||f.data(t+"Maxlength")||f.attr("maxlength")||null,m.max=""+(a.max||f.data(t+"Max")||f.attr("max")||""),m.min=""+(a.min||f.data(t+"Min")||f.attr("min")||""),m.decimals=""+(a.decimals||f.data(t+"Decimals")||""),m.decimals=e.isNumeric(m.decimals)?parseInt(m.decimals):0,"number"===l.type)if(""!==m.max&&f.attr("max",m.max),""!==m.min&&f.attr("min",m.min),f.attr("step")){if(0===m.decimals){var u=f.attr("step"),s=u.indexOf(".");s!==-1&&(m.decimals=u.length-s-1)}}else if(m.decimals){for(var u="0.",x=m.decimals;x>1;x--)u+="0";u+="1",f.attr("step",u)}if(null!==m.maxlength&&(m.maxlength=parseInt(m.maxlength)),""!==m.max&&null===m.maxlength&&""!==m.min&&"-"!==m.min[0]&&(m.maxlength=m.max.length,m.decimals&&(m.max.indexOf(".")!==-1&&(m.maxlength=m.max.indexOf(".")),m.maxlength+=m.decimals+1)),null!==m.maxlength&&"text"===l.type&&f.attr("maxlength",m.maxlength),f.data(t,m),"-"!==d&&!/\d/.test(d))return void f.val("");var c=n(d,m.min,m.max,m.maxlength,m.decimals);c!==!1&&f.val(c)}).on("keypress."+t,function(a){if(!a.ctrlKey&&13!==a.keyCode&&9!==a.keyCode&&0!==a.charCode){var n=a.char||String.fromCharCode(a.charCode),r=e(this),i=r.data(t);i.receivedMinus&&"-"===n?(a.preventDefault(),i.receivedMinus=!1):i.receivedMinus="-"===n,i.decimals&&(i.receivedDot&&"."===n?(a.preventDefault(),i.receivedDot=!1):i.receivedDot="."===n),""!==i.min&&"-"!==i.min[0]&&i.receivedMinus?a.preventDefault():i.receivedMinus||i.receivedDot||!/\D/.test(n)||a.preventDefault()}}).on("keyup."+t,function(a){var i=e(this),l=i.data(t);if(!l.receivedMinus&&!l.receivedDot){var m=r(i);if(""!==m&&"0"!==m){var f=n(m,null,l.max,l.maxlength,l.decimals);f!==!1&&i.val(f)}}}).on("focusout."+t,function(a){var i=e(this),l=r(i);if(""!==l){var m=i.data(t);"-"===l&&i.val("");var f=n(l,m.min,m.max,m.maxlength,m.decimals);"0"!==f&&f!==!1&&i.val(f)}}).on("paste."+t,function(a){var n;if(a.originalEvent.clipboardData)n=(a.originalEvent||a).clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}n=n.trim();var r="-"===n[0]?"-":"",i=e(this),m=i.data(t),f=m.maxlength;n=r+n.replace(/\D/g,""),f&&(m.maxlength=null,"text"===this.type&&i.removeAttr("maxlength"),setTimeout(l,100,i,f))}),this}}(jQuery);